/*!
 *
 * Bryntum TaskBoard 5.6.2
 *
 * Copyright(c) 2023 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
import{ObjectHelper as g,Rectangle as d,Tooltip as v,Widget as c,__publicField as m}from"./chunk-MZVS5JQA.js";var f={ArrowUp:1,ArrowDown:1,ArrowLeft:1,ArrowRight:1},r=class extends c{static get configurable(){return{text:null,showValue:!0,showTooltip:!1,min:0,max:100,step:1,value:50,unit:null,thumbSize:20,tooltip:{$config:["lazy","nullify"],value:{type:"tooltip",align:"b-t",anchor:!1,axisLock:!0}},localizableProperties:["text"],triggerChangeOnInput:null,defaultBindProperty:"value"}}compose(){const{id:t,min:e,max:n,showValue:i,step:a,text:l,value:u,unit:s="",disabled:o}=this,h=`${t}-input`,p=!!(l||i);return{class:{"b-has-label":p,"b-text":p,"b-disabled":o},children:{input:{tag:"input",type:"range",id:h,reference:"input",[o?"disabled":""]:o,min:e,max:n,step:a,value:u,listeners:{input:"onInternalInput",change:"onInternalChange",mouseover:"onInternalMouseOver",mouseout:"onInternalMouseOut"}},label:{tag:"label",for:h,html:i?l?`${l} (${u}${s})`:u+s:l}}}}get focusElement(){return this.input}get percentProgress(){return(this.value-this.min)/(this.max-this.min)*100}onInternalKeyDown(t){!this.readOnly&&f[t.key]&&t.stopImmediatePropagation()}onInternalChange(){this.updateUI(),this.triggerChange(!0),this.trigger("action",{value:this.value})}onInternalInput(){const t=this;if(t.readOnly){t.input.value=t.value;return}t.value=parseInt(t.input.value,10),t.trigger("input",{value:t.value}),t.triggerChangeOnInput&&t.triggerChange(t)}onInternalMouseOver(){var t;const e=this,n=e.rtl?100-e.percentProgress:e.percentProgress;(t=e.tooltip)==null||t.showBy({target:d.from(e.input).inflate(e.thumbSize/2,-e.thumbSize/2),align:`b-t${Math.round(n)}`})}onInternalMouseOut(){var t;(t=this.tooltip)==null||t.hide()}triggerChange(t){this.triggerFieldChange({value:this.value,valid:!0,userAction:t})}updateMax(t){const e=this;e.input&&e._value>t&&(e.value=t,e.trigger("input",{value:e.value}))}updateMin(t){const e=this;e.input&&e._value<t&&(e.value=t,e.trigger("input",{value:e.value}))}changeTooltip(t,e){var n;return t&&(t.owner=this),this.showTooltip?v.reconfigure(e,t,{owner:this,defaults:{forElement:this.input,html:String(this.value)+((n=this.unit)!=null?n:"")}}):null}changeValue(t){const e=this,{min:n,step:i}=e;return t=Math.min(Math.max(t,n),e.max),t>n?n+g.roundTo(t-n,i):g.roundTo(t,i)}updateValue(t){var e;const n=this,{input:i,_tooltip:a}=n;a&&(a.html=n.value+((e=n.unit)!=null?e:"")),i&&i.value!==String(t)&&(i.value=t,n.triggerChange(!1)),n.updateUI()}updateUI(){var t,e;const n=this;(t=n._tooltip)!=null&&t.isVisible&&((e=n._tooltip)==null||e.alignTo({target:d.from(n.input).inflate(n.thumbSize/2,-n.thumbSize/2),align:`b-t${Math.round(n.percentProgress)}`}))}};m(r,"$name","Slider"),m(r,"type","slider"),r.initClass(),r._$name="Slider";export{r as Slider};
//# sourceMappingURL=chunk-CYP557IJ.js.map
