/*!
 *
 * Bryntum TaskBoard 5.6.2
 *
 * Copyright(c) 2023 Bryntum AB
 * https://bryntum.com/contact
 * https://bryntum.com/license
 *
 */
import{DragProxy as R}from"./chunk-4LHHPUQ6.js";import{Base as _,Delayable_default as D,DomClassList as S,EventHelper as x,Rectangle as A,Widget as O,__publicField as H}from"./chunk-MZVS5JQA.js";var o={e:"b-hover-edge",t:"b-hover-top",r:"b-hover-right",b:"b-hover-bottom",l:"b-hover-left"},$={[o.e]:1,[o.t]:1,[o.r]:1,[o.b]:1,[o.l]:1},k={t:[o.e,o.t],r:[o.e,o.r],b:[o.e,o.b],l:[o.e,o.l],tr:[o.e,o.t,o.r],bl:[o.e,o.b,o.l],tl:[o.e,o.t,o.l],br:[o.e,o.b,o.r]},Z=n=>class extends n.mixin(D){static get $name(){return"Hoverable"}static get configurable(){return{hoverCls:null,hoverAnimationCls:null,hoverRootCls:null,hoverRootActiveCls:null,hoverDelay:null,hoverElement:null,hoverIgnoreElement:null,hoverEdges:null,hoverEdgeSize:10,hoverRootElement:{$config:"nullify",value:null},hoverSelector:null,hoverTarget:{$config:"nullify",value:null},hoverTrack:null,hoverZone:null}}static get delayable(){return{setHoverTarget:0}}hoverEnter(e){}hoverIgnore(e){var t;return(t=this.hoverIgnoreElement)==null?void 0:t.contains(e)}hoverLeave(e){}hoverMove(e){}onHoverMouseMove(e){const t=this,{hoverEdges:r,hoverEdgeSize:l,hoverTarget:s}=t;if(s){if(r){const{top:v,left:a,width:E,height:T,right:y,bottom:C}=s.getBoundingClientRect(),{clientX:c,clientY:u}=e,g=a+E/2,d=v+T/2,f=u<(l?v+l:d),m=c>=(l?y-l:g),L=u>=(l?C-l:d),M=c<(l?a+l:g),b=f||L?f?"t":"b":"",p=m||M?m?"r":"l":"";t.hoverZone=(r.includes(b)?b:"")+(r.includes(p)?p:"")}t.hoverEvent=e,t.hoverTrack&&t.hoverMove(e)}}onHoverMouseOver(e){this.hoverEvent=e,this.hoverElement=e.target}onHoverMouseOut(e){this.hoverEvent=e,this.hoverElement=e.relatedTarget}updateHoverDelay(e){this.setHoverTarget.delay=e}changeHoverEdges(e){return e===!0?"trbl":(e||"").replace("v","tb").replace("h","lr")}updateHoverEdges(){this.syncHoverListeners()}changeHoverElement(e){if(!this.hoverIgnore(e))return e}updateHoverElement(e){const{hoverSelector:t}=this;t&&(e=e==null?void 0:e.closest(t)),this.setHoverTarget(e)}updateHoverRootElement(e,t){const{hoverRootCls:r}=this;r&&(t==null||t.classList.remove(r),e==null||e.classList.add(r)),this.syncHoverListeners()}changeHoverTarget(e,t){return t&&(this.hoverZone=null),e}updateHoverTarget(e,t){const r=this,{hoverCls:l,hoverAnimationCls:s,hoverRootActiveCls:v,hoverRootElement:a}=r;v&&(a==null||a.classList[e?"add":"remove"](v)),t&&(l&&t.classList.remove(l),s&&t.classList.remove(s),r.hoverLeave(t)),e&&(l&&e.classList.add(l),r.hoverEnter(t),r.hoverTrack&&r.hoverMove(r.hoverEvent),s&&(e.getBoundingClientRect(),e.classList.add(s)))}updateHoverTrack(){this.syncHoverListeners()}updateHoverZone(e){const{hoverAnimationCls:t,hoverTarget:r}=this;if(r){const{className:l}=r,s=S.change(l,e?k[e]:null,$);l!==s&&(r.className=s,e&&t&&(r.classList.remove(t),r.getBoundingClientRect(),r.classList.add(t)))}}setHoverTarget(e){this.hoverTarget=e}syncHoverListeners(){var e;const t=this,r=t.hoverRootElement,l={element:r,thisObj:t,mouseover:"onHoverMouseOver",mouseout:"onHoverMouseOut"};(t.hoverTrack||t.hoverEdges)&&(l.mousemove="onHoverMouseMove"),(e=t._hoverRootDetacher)==null||e.call(t),t._hoverRootDetacher=r&&x.on(l)}},h=class extends R{static get type(){return"tip"}static get configurable(){return{align:"t10-b50",offset:20,tooltip:{$config:["lazy","nullify"],value:{type:"tooltip"}}}}open(){this.getConfig("tooltip")}close(){var n;(n=this.tooltip)==null||n.hide()}dragMove(n){const{offset:i,tooltip:e}=this,{event:t}=n;e&&(e.isVisible||e.show(),e.alignTo({align:this.align,target:new A(t.clientX-i,t.clientY-i,i*2,i*2)}))}changeTooltip(n,i){return O.reconfigure(i,n,this)}};h.initClass(),h._$name="DragTipProxy";var B=n=>{var i;return i=class extends(n||_){compose(){const{minified:e}=this;return{class:{"b-minified":e}}}get widgetClass(){}},H(i,"$name","Minifiable"),H(i,"configurable",{minifiable:!0,minified:null}),i};export{h as DragTipProxy,Z as Hoverable_default,B as Minifiable_default};
//# sourceMappingURL=chunk-OKYTE2UM.js.map
